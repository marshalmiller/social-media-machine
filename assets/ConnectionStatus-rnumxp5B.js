import{r as s,j as c}from"./index-ChHXuf40.js";import{Y as i}from"./peer-CwAa3h8x.js";async function y(e,r="image/jpeg"){return await new Promise((o,t)=>{const n=Object.assign(new FileReader,{onload:()=>o(n.result),onerror:()=>t(n.error)});n.readAsDataURL(new File([e],"",{type:r}))})}async function w(e){const r=await fetch(e);return new Uint8Array(await r.arrayBuffer())}const l="_corner_1lf93_1",f="_center_1lf93_7",u={corner:l,center:f};function j({peer:e,ready:r,position:o,visibility:t}){const[n,a]=s.useState(0);return s.useEffect(()=>{if(e)return e.on("quality",a),a(e.quality),()=>{e.off("quality",a)};a(0)},[e]),t===void 0||n<=t?c.jsx("div",{className:o==="corner"?u.corner:u.center,children:c.jsx(i,{api:void 0,appName:"somekone",ready:r,peer:e,visibility:t})}):null}export{j as C,y as b,w as d};
