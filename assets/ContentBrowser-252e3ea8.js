import{j as t,r,g as j,M as I}from"./index-02b2945e.js";import{I as S}from"./ImageGrid-ff60fbdd.js";import{S as v}from"./Search-2d830196.js";import{c as C,I as g}from"./IconButton-02bc1303.js";import{S as b}from"./Spacer-de9dcc41.js";import{I as w}from"./IconMenu-6e6ac8e9.js";import{I as h}from"./Item-79c80338.js";import{E as M}from"./Edit-32806028.js";import{s as E}from"./createSimplePaletteValueFilter-b2e05aa4.js";import{T as B}from"./TextField-43fc95d4.js";import{I as _}from"./InputAdornment-0277bb49.js";import{I as D}from"./I18nextProvider-f367c211.js";import"./CheckCircle-b71d1d84.js";import"./content-ab9124ab.js";import"./Tooltip-875b66b4.js";import"./Portal-a2b43acb.js";import"./useSlot-050d423d.js";import"./Popper-912b4204.js";import"./useSlotProps-2393cf25.js";import"./Grow-605dc19c.js";import"./useFormControl-e419a457.js";import"./Popover-f0f4a007.js";import"./Modal-2fc077e7.js";import"./debounce-517eeb3c.js";import"./index-720786c4.js";import"./Typography-0738e1b3.js";const L="_container_1dm1i_1",k="_menuLogo_1dm1i_6",x={container:L,menuLogo:k},y=C(t.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),A=E(B)({"& .MuiInputBase-root":{backgroundColor:"white"},margin:"0 2rem"});function T({hasSelected:c,onSearch:s,onDelete:o}){const i=r.useRef(),p=r.useCallback(n=>{if(n.key==="Enter"){const m=n.target.value;s(m)}},[s]);return t.jsxs(w,{title:"Browser",label:t.jsx("div",{className:x.menuLogo,children:"Browser"}),placement:"top",children:[t.jsx(A,{hiddenLabel:!0,size:"small",variant:"outlined",onKeyDown:p,inputRef:i,InputProps:{startAdornment:t.jsx(_,{position:"start",children:t.jsx(v,{})})}}),t.jsx(b,{}),t.jsx(h,{tooltip:"Edit image",children:t.jsx(g,{disabled:!c,color:"inherit",children:t.jsx(M,{})})}),t.jsx(h,{tooltip:"Delete image",children:t.jsx(g,{onClick:o,disabled:!c,color:"inherit",children:t.jsx(y,{})})})]})}function z(){const[c,s]=r.useState([]),o=j(),[i,p]=r.useState(),[n,m]=r.useState([]);return r.useEffect(()=>{if(n.length===0)s(o.getAllContent());else{const e=new Set(n),d=o.getAllContent().filter(l=>{const u=o.getContentMetadata(l);if(u){for(let f=0;f<u.labels.length;++f)if(e.has(u.labels[f].label))return!0}return!1});s(d)}},[o,n]),t.jsxs(D,{i18n:I,defaultNS:"tools",children:[t.jsx(T,{hasSelected:i!==void 0,onDelete:()=>{const e=i;e&&(o.removeContent(e),m(a=>[...a]))},onSearch:e=>{const d=e.split(/[ ,]+/gi).map(l=>l.trim()).filter(l=>l.length>0);m(d)}}),t.jsx("div",{className:x.container,children:t.jsx(S,{images:c,columns:5,selected:i,onSelect:e=>p(a=>a===e?void 0:e)})})]})}function lt(){return t.jsx(z,{})}export{lt as Component};
