import{j as t,r,g as j,M as I}from"./index-ChHXuf40.js";import{I as S}from"./ImageGrid-Cx-mYdPF.js";import{S as v}from"./Search-Ciw69ZEK.js";import{c as C,I as g}from"./IconButton-BXLcq7Mr.js";import{S as b}from"./Spacer-Mn4BAxg4.js";import{I as w}from"./IconMenu-BwCk8YCn.js";import{I as h}from"./Item-BHRpsj3I.js";import{E as M}from"./Edit-adgr_VB6.js";import{s as E}from"./createSimplePaletteValueFilter-CLdyqM5U.js";import{I as B}from"./InputAdornment-CUBj53no.js";import{T as _}from"./TextField-MaMPnnBO.js";import{I as D}from"./I18nextProvider-oW3AECIJ.js";import"./CheckCircle-CXj5CTlc.js";import"./content-CTNkBplU.js";import"./Tooltip-cL7nY1NY.js";import"./Portal-BpkAKKpt.js";import"./useSlot-BVU38s2u.js";import"./useSlotProps-BP5ya9qr.js";import"./Grow-B-eHZ5Kq.js";import"./Popper-JH9MxI6g.js";import"./useFormControl-BOywDUuq.js";import"./Typography-8VlALfQ4.js";import"./index-BfNLg11A.js";import"./Popover-3SaqCWbK.js";import"./debounce-Be36O1Ab.js";import"./Modal-DQ9h7Q_m.js";const L="_container_1dm1i_1",k="_menuLogo_1dm1i_6",x={container:L,menuLogo:k},y=C(t.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),A=E(_)({"& .MuiInputBase-root":{backgroundColor:"white"},margin:"0 2rem"});function T({hasSelected:c,onSearch:s,onDelete:o}){const i=r.useRef(),p=r.useCallback(n=>{if(n.key==="Enter"){const m=n.target.value;s(m)}},[s]);return t.jsxs(w,{title:"Browser",label:t.jsx("div",{className:x.menuLogo,children:"Browser"}),placement:"top",children:[t.jsx(A,{hiddenLabel:!0,size:"small",variant:"outlined",onKeyDown:p,inputRef:i,InputProps:{startAdornment:t.jsx(B,{position:"start",children:t.jsx(v,{})})}}),t.jsx(b,{}),t.jsx(h,{tooltip:"Edit image",children:t.jsx(g,{disabled:!c,color:"inherit",children:t.jsx(M,{})})}),t.jsx(h,{tooltip:"Delete image",children:t.jsx(g,{onClick:o,disabled:!c,color:"inherit",children:t.jsx(y,{})})})]})}function z(){const[c,s]=r.useState([]),o=j(),[i,p]=r.useState(),[n,m]=r.useState([]);return r.useEffect(()=>{if(n.length===0)s(o.getAllContent());else{const e=new Set(n),d=o.getAllContent().filter(l=>{const u=o.getContentMetadata(l);if(u){for(let f=0;f<u.labels.length;++f)if(e.has(u.labels[f].label))return!0}return!1});s(d)}},[o,n]),t.jsxs(D,{i18n:I,defaultNS:"tools",children:[t.jsx(T,{hasSelected:i!==void 0,onDelete:()=>{const e=i;e&&(o.removeContent(e),m(a=>[...a]))},onSearch:e=>{const d=e.split(/[ ,]+/gi).map(l=>l.trim()).filter(l=>l.length>0);m(d)}}),t.jsx("div",{className:x.container,children:t.jsx(S,{images:c,columns:5,selected:i,onSelect:e=>p(a=>a===e?void 0:e)})})]})}function lt(){return t.jsx(z,{})}export{lt as Component};
