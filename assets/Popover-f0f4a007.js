import{r as l,j as R}from"./index-02b2945e.js";import{g as Po,a as go,s as _,u as vo,c as X,e as yo,b as wo}from"./createSimplePaletteValueFilter-b2e05aa4.js";import{u as Y}from"./useSlot-050d423d.js";import{M as Eo,P as bo}from"./Modal-2fc077e7.js";import{o as q,a as J}from"./Portal-a2b43acb.js";import{d as xo}from"./debounce-517eeb3c.js";import{G as Ro}from"./Grow-605dc19c.js";function To(o){return typeof o=="string"}function Co(o){return Po("MuiPopover",o)}go("MuiPopover",["root","paper"]);function K(o,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=o.height/2:t==="bottom"&&(s=o.height),s}function Q(o,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=o.width/2:t==="right"&&(s=o.width),s}function Z(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function T(o){return typeof o=="function"?o():o}const Oo=o=>{const{classes:t}=o;return wo({root:["root"],paper:["paper"]},Co,t)},zo=_(Eo,{name:"MuiPopover",slot:"Root",overridesResolver:(o,t)=>t.root})({}),Mo=_(bo,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),So=l.forwardRef(function(t,s){const C=vo({props:t,name:"MuiPopover"}),{action:oo,anchorEl:c,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:O,anchorReference:P="anchorEl",children:to,className:eo,container:no,elevation:z=8,marginThreshold:i=16,open:f,PaperProps:ro={},slots:so={},slotProps:v={},transformOrigin:g={vertical:"top",horizontal:"left"},TransitionComponent:y=Ro,transitionDuration:w="auto",TransitionProps:{onEntering:M,...S}={},disableScrollLock:E=!1,...io}=C,u=(v==null?void 0:v.paper)??ro,b=l.useRef(),x={...C,anchorOrigin:m,anchorReference:P,elevation:z,marginThreshold:i,externalPaperSlotProps:u,transformOrigin:g,TransitionComponent:y,transitionDuration:w,TransitionProps:S},k=Oo(x),W=l.useCallback(()=>{if(P==="anchorPosition")return O;const e=T(c),r=(e&&e.nodeType===1?e:q(b.current).body).getBoundingClientRect();return{top:r.top+K(r,m.vertical),left:r.left+Q(r,m.horizontal)}},[c,m.horizontal,m.vertical,O,P]),j=l.useCallback(e=>({vertical:K(e,g.vertical),horizontal:Q(e,g.horizontal)}),[g.horizontal,g.vertical]),D=l.useCallback(e=>{const n={width:e.offsetWidth,height:e.offsetHeight},r=j(n);if(P==="none")return{top:null,left:null,transformOrigin:Z(r)};const $=W();let d=$.top-r.vertical,h=$.left-r.horizontal;const F=d+n.height,G=h+n.width,I=J(T(c)),B=I.innerHeight-i,V=I.innerWidth-i;if(i!==null&&d<i){const a=d-i;d-=a,r.vertical+=a}else if(i!==null&&F>B){const a=F-B;d-=a,r.vertical+=a}if(i!==null&&h<i){const a=h-i;h-=a,r.horizontal+=a}else if(G>V){const a=G-V;h-=a,r.horizontal+=a}return{top:`${Math.round(d)}px`,left:`${Math.round(h)}px`,transformOrigin:Z(r)}},[c,P,W,j,i]),[ao,H]=l.useState(f),p=l.useCallback(()=>{const e=b.current;if(!e)return;const n=D(e);n.top!==null&&e.style.setProperty("top",n.top),n.left!==null&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,H(!0)},[D]);l.useEffect(()=>(E&&window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)),[c,E,p]);const lo=(e,n)=>{M&&M(e,n),p()},co=()=>{H(!1)};l.useEffect(()=>{f&&p()}),l.useImperativeHandle(oo,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),l.useEffect(()=>{if(!f)return;const e=xo(()=>{p()}),n=J(c);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[c,f,p]);let L=w;w==="auto"&&!y.muiSupportAuto&&(L=void 0);const po=no||(c?q(T(c)).body:void 0),A={slots:so,slotProps:{...v,paper:u}},[fo,N]=Y("paper",{elementType:Mo,externalForwardedProps:A,additionalProps:{elevation:z,className:X(k.paper,u==null?void 0:u.className),style:ao?u.style:{...u.style,opacity:0}},ownerState:x}),[U,{slotProps:uo,...ho}]=Y("root",{elementType:zo,externalForwardedProps:A,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:po,open:f},ownerState:x,className:X(k.root,eo)}),mo=yo(b,N.ref);return R.jsx(U,{...ho,...!To(U)&&{slotProps:uo,disableScrollLock:E},...io,ref:s,children:R.jsx(y,{appear:!0,in:f,onEntering:lo,onExited:co,timeout:L,...S,children:R.jsx(fo,{...N,ref:mo,children:to})})})}),No=So;export{No as P,Mo as a,To as i};
