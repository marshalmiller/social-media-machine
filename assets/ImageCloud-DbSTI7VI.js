import{P as at,j as H,r as et}from"./index-ChHXuf40.js";import{S as lt}from"./ScorePie-BXvYOECH.js";const ht="_table_17si8_3",ot="_item_17si8_14",ft="_header_17si8_22",dt="_message_17si8_92",mt="_messageNoImage_17si8_96 _message_17si8_92",yt="_time_17si8_101",P={table:ht,item:ot,header:ft,message:dt,messageNoImage:mt,time:yt};var X={exports:{}},xt=X.exports,st;function $t(){return st||(st=1,function(t,s){(function(u,f){t.exports=f()})(xt,function(){var u=1e3,f=6e4,v=36e5,y="millisecond",x="second",M="minute",_="hour",o="day",w="week",h="month",$="quarter",p="year",b="date",N="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var n=["th","st","nd","rd"],e=a%100;return"["+a+(n[(e-20)%10]||n[e]||n[0])+"]"}},U=function(a,n,e){var i=String(a);return!i||i.length>=n?a:""+Array(n+1-i.length).join(e)+a},q={s:U,z:function(a){var n=-a.utcOffset(),e=Math.abs(n),i=Math.floor(e/60),r=e%60;return(n<=0?"+":"-")+U(i,2,"0")+":"+U(r,2,"0")},m:function a(n,e){if(n.date()<e.date())return-a(e,n);var i=12*(e.year()-n.year())+(e.month()-n.month()),r=n.clone().add(i,h),c=e-r<0,l=n.clone().add(i+(c?-1:1),h);return+(-(i+(e-r)/(c?r-l:l-r))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:h,y:p,w,d:o,D:b,h:_,m:M,s:x,ms:y,Q:$}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},I="en",k={};k[I]=L;var Z="$isDayjsObject",A=function(a){return a instanceof K||!(!a||!a[Z])},G=function a(n,e,i){var r;if(!n)return I;if(typeof n=="string"){var c=n.toLowerCase();k[c]&&(r=c),e&&(k[c]=e,r=c);var l=n.split("-");if(!r&&l.length>1)return a(l[0])}else{var m=n.name;k[m]=n,r=m}return!i&&r&&(I=r),r||!i&&I},D=function(a,n){if(A(a))return a.clone();var e=typeof n=="object"?n:{};return e.date=a,e.args=arguments,new K(e)},d=q;d.l=G,d.i=A,d.w=function(a,n){return D(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var K=function(){function a(e){this.$L=G(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Z]=!0}var n=a.prototype;return n.parse=function(e){this.$d=function(i){var r=i.date,c=i.utc;if(r===null)return new Date(NaN);if(d.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var l=r.match(O);if(l){var m=l[2]-1||0,g=(l[7]||"0").substring(0,3);return c?new Date(Date.UTC(l[1],m,l[3]||1,l[4]||0,l[5]||0,l[6]||0,g)):new Date(l[1],m,l[3]||1,l[4]||0,l[5]||0,l[6]||0,g)}}return new Date(r)}(e),this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return d},n.isValid=function(){return this.$d.toString()!==N},n.isSame=function(e,i){var r=D(e);return this.startOf(i)<=r&&r<=this.endOf(i)},n.isAfter=function(e,i){return D(e)<this.startOf(i)},n.isBefore=function(e,i){return this.endOf(i)<D(e)},n.$g=function(e,i,r){return d.u(e)?this[i]:this.set(r,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,i){var r=this,c=!!d.u(i)||i,l=d.p(e),m=function(Y,C){var W=d.w(r.$u?Date.UTC(r.$y,C,Y):new Date(r.$y,C,Y),r);return c?W:W.endOf(o)},g=function(Y,C){return d.w(r.toDate()[Y].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(C)),r)},S=this.$W,j=this.$M,E=this.$D,F="set"+(this.$u?"UTC":"");switch(l){case p:return c?m(1,0):m(31,11);case h:return c?m(1,j):m(0,j+1);case w:var R=this.$locale().weekStart||0,V=(S<R?S+7:S)-R;return m(c?E-V:E+(6-V),j);case o:case b:return g(F+"Hours",0);case _:return g(F+"Minutes",1);case M:return g(F+"Seconds",2);case x:return g(F+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,i){var r,c=d.p(e),l="set"+(this.$u?"UTC":""),m=(r={},r[o]=l+"Date",r[b]=l+"Date",r[h]=l+"Month",r[p]=l+"FullYear",r[_]=l+"Hours",r[M]=l+"Minutes",r[x]=l+"Seconds",r[y]=l+"Milliseconds",r)[c],g=c===o?this.$D+(i-this.$W):i;if(c===h||c===p){var S=this.clone().set(b,1);S.$d[m](g),S.init(),this.$d=S.set(b,Math.min(this.$D,S.daysInMonth())).$d}else m&&this.$d[m](g);return this.init(),this},n.set=function(e,i){return this.clone().$set(e,i)},n.get=function(e){return this[d.p(e)]()},n.add=function(e,i){var r,c=this;e=Number(e);var l=d.p(i),m=function(j){var E=D(c);return d.w(E.date(E.date()+Math.round(j*e)),c)};if(l===h)return this.set(h,this.$M+e);if(l===p)return this.set(p,this.$y+e);if(l===o)return m(1);if(l===w)return m(7);var g=(r={},r[M]=f,r[_]=v,r[x]=u,r)[l]||1,S=this.$d.getTime()+e*g;return d.w(S,this)},n.subtract=function(e,i){return this.add(-1*e,i)},n.format=function(e){var i=this,r=this.$locale();if(!this.isValid())return r.invalidDate||N;var c=e||"YYYY-MM-DDTHH:mm:ssZ",l=d.z(this),m=this.$H,g=this.$m,S=this.$M,j=r.weekdays,E=r.months,F=r.meridiem,R=function(C,W,B,z){return C&&(C[W]||C(i,c))||B[W].slice(0,z)},V=function(C){return d.s(m%12||12,C,"0")},Y=F||function(C,W,B){var z=C<12?"AM":"PM";return B?z.toLowerCase():z};return c.replace(T,function(C,W){return W||function(B){switch(B){case"YY":return String(i.$y).slice(-2);case"YYYY":return d.s(i.$y,4,"0");case"M":return S+1;case"MM":return d.s(S+1,2,"0");case"MMM":return R(r.monthsShort,S,E,3);case"MMMM":return R(E,S);case"D":return i.$D;case"DD":return d.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return R(r.weekdaysMin,i.$W,j,2);case"ddd":return R(r.weekdaysShort,i.$W,j,3);case"dddd":return j[i.$W];case"H":return String(m);case"HH":return d.s(m,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return Y(m,g,!0);case"A":return Y(m,g,!1);case"m":return String(g);case"mm":return d.s(g,2,"0");case"s":return String(i.$s);case"ss":return d.s(i.$s,2,"0");case"SSS":return d.s(i.$ms,3,"0");case"Z":return l}return null}(C)||l.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,i,r){var c,l=this,m=d.p(i),g=D(e),S=(g.utcOffset()-this.utcOffset())*f,j=this-g,E=function(){return d.m(l,g)};switch(m){case p:c=E()/12;break;case h:c=E();break;case $:c=E()/3;break;case w:c=(j-S)/6048e5;break;case o:c=(j-S)/864e5;break;case _:c=j/v;break;case M:c=j/f;break;case x:c=j/u;break;default:c=j}return r?c:d.a(c)},n.daysInMonth=function(){return this.endOf(h).$D},n.$locale=function(){return k[this.$L]},n.locale=function(e,i){if(!e)return this.$L;var r=this.clone(),c=G(e,i,!0);return c&&(r.$L=c),r},n.clone=function(){return d.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a}(),nt=K.prototype;return D.prototype=nt,[["$ms",y],["$s",x],["$m",M],["$H",_],["$W",o],["$M",h],["$y",p],["$D",b]].forEach(function(a){nt[a[1]]=function(n){return this.$g(n,a[0],a[1])}}),D.extend=function(a,n){return a.$i||(a(n,K,D),a.$i=!0),D},D.locale=G,D.isDayjs=A,D.unix=function(a){return D(1e3*a)},D.en=k[I],D.Ls=k,D.p={},D})}(X)),X.exports}var pt=$t();const ct=at(pt);var tt={exports:{}},gt=tt.exports,it;function vt(){return it||(it=1,function(t,s){(function(u,f){t.exports=f()})(gt,function(){return function(u,f,v){u=u||{};var y=f.prototype,x={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function M(o,w,h,$){return y.fromToBase(o,w,h,$)}v.en.relativeTime=x,y.fromToBase=function(o,w,h,$,p){for(var b,N,O,T=h.$locale().relativeTime||x,L=u.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],U=L.length,q=0;q<U;q+=1){var I=L[q];I.d&&(b=$?v(o).diff(h,I.d,!0):h.diff(o,I.d,!0));var k=(u.rounding||Math.round)(Math.abs(b));if(O=b>0,k<=I.r||!I.r){k<=1&&q>0&&(I=L[q-1]);var Z=T[I.l];p&&(k=p(""+k)),N=typeof Z=="string"?Z.replace("%d",k):Z(k,w,I.l,O);break}}if(w)return N;var A=O?T.future:T.past;return typeof A=="function"?A(N):A.replace("%s",N)},y.to=function(o,w){return M(o,w,this,!0)},y.from=function(o,w){return M(o,w,this)};var _=function(o){return o.$u?v.utc():v()};y.toNow=function(o){return this.to(_(this),o)},y.fromNow=function(o){return this.from(_(this),o)}}})}(tt)),tt.exports}var Mt=vt();const _t=at(Mt);ct.extend(_t);function wt(t){return ct(t).fromNow()}function Ht({image:t,message:s,score:u,children:f,avatar:v,time:y,title:x}){return H.jsxs("li",{className:P.item,"data-testid":"data-card",children:[H.jsxs("div",{className:P.header,children:[t&&H.jsx("img",{src:t,alt:"Content item",width:75,height:75}),v,H.jsxs("div",{className:t?P.message:P.messageNoImage,children:[s&&H.jsx("div",{children:s}),x&&H.jsx("h2",{children:x}),y&&H.jsx("div",{className:P.time,children:wt(y)})]}),u!==void 0&&H.jsx(lt,{value:Math.min(1,u),maxValue:1,size:65,color:"white",bgColor:"#005566",showValue:!0})]}),f]})}function Et({children:t,...s}){return H.jsx("ul",{"data-testid":"data-cards",...s,className:P.table,children:t})}const Dt="_cloudItem_12vyv_1",St={cloudItem:Dt};function bt(t,s,u,f,v){return{depth:v,x0:t-u/2,x1:t+u/2,y0:s-f/2,y1:s+f/2,children:[null,null,null,null]}}function jt(t){const s=(t.x1-t.x0)/2,u=(t.y1-t.y0)/2;t.children[0]===null&&(t.depth===1?t.children=[{x0:t.x0,x1:t.x0+s,y0:t.y0,y1:t.y0+u,items:[]},{x0:t.x0+s,x1:t.x1,y0:t.y0,y1:t.y0+u,items:[]},{x0:t.x0,x1:t.x0+s,y0:t.y0+u,y1:t.y1,items:[]},{x0:t.x0+s,x1:t.x1,y0:t.y0+u,y1:t.y1,items:[]}]:t.children=[{x0:t.x0,x1:t.x0+s,y0:t.y0,y1:t.y0+u,depth:t.depth-1,children:[null,null,null,null]},{x0:t.x0+s,x1:t.x1,y0:t.y0,y1:t.y0+u,depth:t.depth-1,children:[null,null,null,null]},{x0:t.x0,x1:t.x0+s,y0:t.y0+u,y1:t.y1,depth:t.depth-1,children:[null,null,null,null]},{x0:t.x0+s,x1:t.x1,y0:t.y0+u,y1:t.y1,depth:t.depth-1,children:[null,null,null,null]}])}function rt(t,s){const u=s.x0,f=s.x1,v=s.y0,y=s.y1,x=t.x0,M=t.x1,_=t.y0,o=t.y1;return!(f<x||M<u||y<_||o<v)}function J(t,s){rt(t,s)&&("items"in t?t.items.push(s):(jt(t),t.children[0]&&J(t.children[0],s),t.children[1]&&J(t.children[1],s),t.children[2]&&J(t.children[2],s),t.children[3]&&J(t.children[3],s)))}function Q(t,s){if(!rt(t,s))return!1;if("items"in t){for(const u of t.items)if(rt(s,u))return!0;return!1}else return!!(t.children[0]&&Q(t.children[0],s)||t.children[1]&&Q(t.children[1],s)||t.children[2]&&Q(t.children[2],s)||t.children[3]&&Q(t.children[3],s))}function Ot(t){const s=t[0]/t[1];return function(u){return[s*(u*=.1)*Math.cos(u),u*Math.sin(u)]}}function Tt(t,s,u,f){const v=Math.sqrt(t*t+u*u),y=Math.sqrt(s*s+u*u),x=Math.sqrt(t*t+f*f),M=Math.sqrt(s*s+f*f);return Math.max(v,y,x,M)}function Nt(t,s,u){const f=[];if(t.length===0)return[[],u||10];const v=Ot([s,s]),y=bt(0,0,2*s,2*s,4),x=new Map;let M=0,_=0,o=0;for(const h of t){const $=h.width+(u||10),p=h.height+(u||10),b=$*p;let N=x.get(p)||0;for(;N<1e4;){const O=v(N),T={x0:O[0]-$/2,y0:O[1]-p/2,x1:O[0]+$/2,y1:O[1]+p/2};if(!Q(y,T)){x.set(p,N),J(y,T),f.push({x:Math.floor(T.x0),y:Math.floor(T.y0),item:h}),M+=O[0]*b,_+=O[1]*b,o+=b;break}N+=1}}M/=o,_/=o;const w={max:0};return f.forEach(h=>{h.x-=M,h.y-=_;const $=Tt(h.x,h.x+h.item.width,h.y,h.y+h.item.height);w.max=Math.max(w.max,$)}),[f,w.max]}const It=1.5,ut=30,Lt=et.memo(function({content:s,size:u,padding:f,colour:v,borderSize:y,onSize:x,className:M,count:_}){const[o,w]=et.useState([]);et.useEffect(()=>{const $=Math.max(.01,s.length>0?s[0].weight:1),p=s.filter((T,L)=>T.weight>0&&(_===void 0||L<_)).map(T=>{const L=Math.floor(T.weight/$*((u||500)-ut)*.3)+ut;return{id:T.image,width:L,height:L}}),[b,N]=Nt(p,u||500,f),O=Math.floor(N);x&&O!==u&&x(O),w(b)},[s,f,u,x,_]);const h=y===void 0?It:y;return H.jsx("g",{"data-testid":"cloud-group",children:o.map(($,p)=>H.jsxs("g",{className:M||St.cloudItem,transform:`translate(${$.x}, ${$.y})`,children:[v&&H.jsx("rect",{x:-h,y:-h,width:$.item.width+2*h,height:$.item.height+2*h,stroke:"none",fill:v,clipPath:"inset(0% round 5px)"}),H.jsx("image",{"data-testid":"cloud-image",x:0,y:0,width:$.item.width,height:$.item.height,href:$.item.id,preserveAspectRatio:"none",clipPath:"inset(0% round 5px)"})]},p))})});export{Ht as C,Lt as I,Et as a,Nt as c,wt as t};
