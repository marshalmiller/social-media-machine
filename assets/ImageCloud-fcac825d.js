import{a9 as nt,P as st,j as H,r as X}from"./index-02b2945e.js";import{S as ct}from"./ScorePie-ef00e97d.js";const ot="#dfe5e8",ht="#5f7377",lt="#e8f0fe",ft="#444",dt="#008297",mt="_table_17si8_3",yt="_item_17si8_14",xt="_header_17si8_22",$t="_content_17si8_75",gt="_message_17si8_92",pt="_messageNoImage_17si8_96 _message_17si8_92",Mt="_time_17si8_101",P={workspaceBg:ot,backgroundDark:ht,bgSubdued1:lt,textDark:ft,primary:dt,table:mt,item:yt,header:xt,content:$t,message:gt,messageNoImage:pt,time:Mt};var it={exports:{}};(function(t,s){(function(a,f){t.exports=f()})(nt,function(){var a=1e3,f=6e4,M=36e5,y="millisecond",x="second",v="minute",w="hour",l="day",_="week",h="month",$="quarter",g="year",b="date",T="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var n=["th","st","nd","rd"],e=u%100;return"["+u+(n[(e-20)%10]||n[e]||n[0])+"]"}},U=function(u,n,e){var i=String(u);return!i||i.length>=n?u:""+Array(n+1-i.length).join(e)+u},A={s:U,z:function(u){var n=-u.utcOffset(),e=Math.abs(n),i=Math.floor(e/60),r=e%60;return(n<=0?"+":"-")+U(i,2,"0")+":"+U(r,2,"0")},m:function u(n,e){if(n.date()<e.date())return-u(e,n);var i=12*(e.year()-n.year())+(e.month()-n.month()),r=n.clone().add(i,h),c=e-r<0,o=n.clone().add(i+(c?-1:1),h);return+(-(i+(e-r)/(c?r-o:o-r))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:h,y:g,w:_,d:l,D:b,h:w,m:v,s:x,ms:y,Q:$}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},N="en",I={};I[N]=L;var q="$isDayjsObject",Y=function(u){return u instanceof K||!(!u||!u[q])},G=function u(n,e,i){var r;if(!n)return N;if(typeof n=="string"){var c=n.toLowerCase();I[c]&&(r=c),e&&(I[c]=e,r=c);var o=n.split("-");if(!r&&o.length>1)return u(o[0])}else{var m=n.name;I[m]=n,r=m}return!i&&r&&(N=r),r||!i&&N},D=function(u,n){if(Y(u))return u.clone();var e=typeof n=="object"?n:{};return e.date=u,e.args=arguments,new K(e)},d=A;d.l=G,d.i=Y,d.w=function(u,n){return D(u,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var K=function(){function u(e){this.$L=G(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[q]=!0}var n=u.prototype;return n.parse=function(e){this.$d=function(i){var r=i.date,c=i.utc;if(r===null)return new Date(NaN);if(d.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var o=r.match(j);if(o){var m=o[2]-1||0,p=(o[7]||"0").substring(0,3);return c?new Date(Date.UTC(o[1],m,o[3]||1,o[4]||0,o[5]||0,o[6]||0,p)):new Date(o[1],m,o[3]||1,o[4]||0,o[5]||0,o[6]||0,p)}}return new Date(r)}(e),this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return d},n.isValid=function(){return this.$d.toString()!==T},n.isSame=function(e,i){var r=D(e);return this.startOf(i)<=r&&r<=this.endOf(i)},n.isAfter=function(e,i){return D(e)<this.startOf(i)},n.isBefore=function(e,i){return this.endOf(i)<D(e)},n.$g=function(e,i,r){return d.u(e)?this[i]:this.set(r,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,i){var r=this,c=!!d.u(i)||i,o=d.p(e),m=function(Z,C){var W=d.w(r.$u?Date.UTC(r.$y,C,Z):new Date(r.$y,C,Z),r);return c?W:W.endOf(l)},p=function(Z,C){return d.w(r.toDate()[Z].apply(r.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(C)),r)},S=this.$W,k=this.$M,E=this.$D,F="set"+(this.$u?"UTC":"");switch(o){case g:return c?m(1,0):m(31,11);case h:return c?m(1,k):m(0,k+1);case _:var B=this.$locale().weekStart||0,V=(S<B?S+7:S)-B;return m(c?E-V:E+(6-V),k);case l:case b:return p(F+"Hours",0);case w:return p(F+"Minutes",1);case v:return p(F+"Seconds",2);case x:return p(F+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,i){var r,c=d.p(e),o="set"+(this.$u?"UTC":""),m=(r={},r[l]=o+"Date",r[b]=o+"Date",r[h]=o+"Month",r[g]=o+"FullYear",r[w]=o+"Hours",r[v]=o+"Minutes",r[x]=o+"Seconds",r[y]=o+"Milliseconds",r)[c],p=c===l?this.$D+(i-this.$W):i;if(c===h||c===g){var S=this.clone().set(b,1);S.$d[m](p),S.init(),this.$d=S.set(b,Math.min(this.$D,S.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},n.set=function(e,i){return this.clone().$set(e,i)},n.get=function(e){return this[d.p(e)]()},n.add=function(e,i){var r,c=this;e=Number(e);var o=d.p(i),m=function(k){var E=D(c);return d.w(E.date(E.date()+Math.round(k*e)),c)};if(o===h)return this.set(h,this.$M+e);if(o===g)return this.set(g,this.$y+e);if(o===l)return m(1);if(o===_)return m(7);var p=(r={},r[v]=f,r[w]=M,r[x]=a,r)[o]||1,S=this.$d.getTime()+e*p;return d.w(S,this)},n.subtract=function(e,i){return this.add(-1*e,i)},n.format=function(e){var i=this,r=this.$locale();if(!this.isValid())return r.invalidDate||T;var c=e||"YYYY-MM-DDTHH:mm:ssZ",o=d.z(this),m=this.$H,p=this.$m,S=this.$M,k=r.weekdays,E=r.months,F=r.meridiem,B=function(C,W,J,z){return C&&(C[W]||C(i,c))||J[W].slice(0,z)},V=function(C){return d.s(m%12||12,C,"0")},Z=F||function(C,W,J){var z=C<12?"AM":"PM";return J?z.toLowerCase():z};return c.replace(O,function(C,W){return W||function(J){switch(J){case"YY":return String(i.$y).slice(-2);case"YYYY":return d.s(i.$y,4,"0");case"M":return S+1;case"MM":return d.s(S+1,2,"0");case"MMM":return B(r.monthsShort,S,E,3);case"MMMM":return B(E,S);case"D":return i.$D;case"DD":return d.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return B(r.weekdaysMin,i.$W,k,2);case"ddd":return B(r.weekdaysShort,i.$W,k,3);case"dddd":return k[i.$W];case"H":return String(m);case"HH":return d.s(m,2,"0");case"h":return V(1);case"hh":return V(2);case"a":return Z(m,p,!0);case"A":return Z(m,p,!1);case"m":return String(p);case"mm":return d.s(p,2,"0");case"s":return String(i.$s);case"ss":return d.s(i.$s,2,"0");case"SSS":return d.s(i.$ms,3,"0");case"Z":return o}return null}(C)||o.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,i,r){var c,o=this,m=d.p(i),p=D(e),S=(p.utcOffset()-this.utcOffset())*f,k=this-p,E=function(){return d.m(o,p)};switch(m){case g:c=E()/12;break;case h:c=E();break;case $:c=E()/3;break;case _:c=(k-S)/6048e5;break;case l:c=(k-S)/864e5;break;case w:c=k/M;break;case v:c=k/f;break;case x:c=k/a;break;default:c=k}return r?c:d.a(c)},n.daysInMonth=function(){return this.endOf(h).$D},n.$locale=function(){return I[this.$L]},n.locale=function(e,i){if(!e)return this.$L;var r=this.clone(),c=G(e,i,!0);return c&&(r.$L=c),r},n.clone=function(){return d.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},u}(),et=K.prototype;return D.prototype=et,[["$ms",y],["$s",x],["$m",v],["$H",w],["$W",l],["$M",h],["$y",g],["$D",b]].forEach(function(u){et[u[1]]=function(n){return this.$g(n,u[0],u[1])}}),D.extend=function(u,n){return u.$i||(u(n,K,D),u.$i=!0),D},D.locale=G,D.isDayjs=Y,D.unix=function(u){return D(1e3*u)},D.en=I[N],D.Ls=I,D.p={},D})})(it);var vt=it.exports;const at=st(vt);var ut={exports:{}};(function(t,s){(function(a,f){t.exports=f()})(nt,function(){return function(a,f,M){a=a||{};var y=f.prototype,x={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function v(l,_,h,$){return y.fromToBase(l,_,h,$)}M.en.relativeTime=x,y.fromToBase=function(l,_,h,$,g){for(var b,T,j,O=h.$locale().relativeTime||x,L=a.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],U=L.length,A=0;A<U;A+=1){var N=L[A];N.d&&(b=$?M(l).diff(h,N.d,!0):h.diff(l,N.d,!0));var I=(a.rounding||Math.round)(Math.abs(b));if(j=b>0,I<=N.r||!N.r){I<=1&&A>0&&(N=L[A-1]);var q=O[N.l];g&&(I=g(""+I)),T=typeof q=="string"?q.replace("%d",I):q(I,_,N.l,j);break}}if(_)return T;var Y=j?O.future:O.past;return typeof Y=="function"?Y(T):Y.replace("%s",T)},y.to=function(l,_){return v(l,_,this,!0)},y.from=function(l,_){return v(l,_,this)};var w=function(l){return l.$u?M.utc():M()};y.toNow=function(l){return this.to(w(this),l)},y.fromNow=function(l){return this.from(w(this),l)}}})})(ut);var wt=ut.exports;const _t=st(wt);at.extend(_t);function Dt(t){return at(t).fromNow()}function Et({image:t,message:s,score:a,children:f,avatar:M,time:y,title:x}){return H.jsxs("li",{className:P.item,"data-testid":"data-card",children:[H.jsxs("div",{className:P.header,children:[t&&H.jsx("img",{src:t,alt:"Content item",width:75,height:75}),M,H.jsxs("div",{className:t?P.message:P.messageNoImage,children:[s&&H.jsx("div",{children:s}),x&&H.jsx("h2",{children:x}),y&&H.jsx("div",{className:P.time,children:Dt(y)})]}),a!==void 0&&H.jsx(ct,{value:Math.min(1,a),maxValue:1,size:65,color:"white",bgColor:"#005566",showValue:!0})]}),f]})}function Lt({children:t,...s}){return H.jsx("ul",{"data-testid":"data-cards",...s,className:P.table,children:t})}const St="_cloudItem_12vyv_1",bt={cloudItem:St};function kt(t,s,a,f,M){return{depth:M,x0:t-a/2,x1:t+a/2,y0:s-f/2,y1:s+f/2,children:[null,null,null,null]}}function jt(t){const s=(t.x1-t.x0)/2,a=(t.y1-t.y0)/2;t.children[0]===null&&(t.depth===1?t.children=[{x0:t.x0,x1:t.x0+s,y0:t.y0,y1:t.y0+a,items:[]},{x0:t.x0+s,x1:t.x1,y0:t.y0,y1:t.y0+a,items:[]},{x0:t.x0,x1:t.x0+s,y0:t.y0+a,y1:t.y1,items:[]},{x0:t.x0+s,x1:t.x1,y0:t.y0+a,y1:t.y1,items:[]}]:t.children=[{x0:t.x0,x1:t.x0+s,y0:t.y0,y1:t.y0+a,depth:t.depth-1,children:[null,null,null,null]},{x0:t.x0+s,x1:t.x1,y0:t.y0,y1:t.y0+a,depth:t.depth-1,children:[null,null,null,null]},{x0:t.x0,x1:t.x0+s,y0:t.y0+a,y1:t.y1,depth:t.depth-1,children:[null,null,null,null]},{x0:t.x0+s,x1:t.x1,y0:t.y0+a,y1:t.y1,depth:t.depth-1,children:[null,null,null,null]}])}function tt(t,s){const a=s.x0,f=s.x1,M=s.y0,y=s.y1,x=t.x0,v=t.x1,w=t.y0,l=t.y1;return!(f<x||v<a||y<w||l<M)}function Q(t,s){tt(t,s)&&("items"in t?t.items.push(s):(jt(t),t.children[0]&&Q(t.children[0],s),t.children[1]&&Q(t.children[1],s),t.children[2]&&Q(t.children[2],s),t.children[3]&&Q(t.children[3],s)))}function R(t,s){if(!tt(t,s))return!1;if("items"in t){for(const a of t.items)if(tt(s,a))return!0;return!1}else return!!(t.children[0]&&R(t.children[0],s)||t.children[1]&&R(t.children[1],s)||t.children[2]&&R(t.children[2],s)||t.children[3]&&R(t.children[3],s))}function Ot(t){const s=t[0]/t[1];return function(a){return[s*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function Tt(t,s,a,f){const M=Math.sqrt(t*t+a*a),y=Math.sqrt(s*s+a*a),x=Math.sqrt(t*t+f*f),v=Math.sqrt(s*s+f*f);return Math.max(M,y,x,v)}function Nt(t,s,a){const f=[];if(t.length===0)return[[],a||10];const M=Ot([s,s]),y=kt(0,0,2*s,2*s,4),x=new Map;let v=0,w=0,l=0;for(const h of t){const $=h.width+(a||10),g=h.height+(a||10),b=$*g;let T=x.get(g)||0;for(;T<1e4;){const j=M(T),O={x0:j[0]-$/2,y0:j[1]-g/2,x1:j[0]+$/2,y1:j[1]+g/2};if(!R(y,O)){x.set(g,T),Q(y,O),f.push({x:Math.floor(O.x0),y:Math.floor(O.y0),item:h}),v+=j[0]*b,w+=j[1]*b,l+=b;break}T+=1}}v/=l,w/=l;const _={max:0};return f.forEach(h=>{h.x-=v,h.y-=w;const $=Tt(h.x,h.x+h.item.width,h.y,h.y+h.item.height);_.max=Math.max(_.max,$)}),[f,_.max]}const It=1.5,rt=30,Wt=X.memo(function({content:s,size:a,padding:f,colour:M,borderSize:y,onSize:x,className:v,count:w}){const[l,_]=X.useState([]);X.useEffect(()=>{const $=Math.max(.01,s.length>0?s[0].weight:1),g=s.filter((O,L)=>O.weight>0&&(w===void 0||L<w)).map(O=>{const L=Math.floor(O.weight/$*((a||500)-rt)*.3)+rt;return{id:O.image,width:L,height:L}}),[b,T]=Nt(g,a||500,f),j=Math.floor(T);x&&j!==a&&x(j),_(b)},[s,f,a,x,w]);const h=y===void 0?It:y;return H.jsx("g",{"data-testid":"cloud-group",children:l.map(($,g)=>H.jsxs("g",{className:v||bt.cloudItem,transform:`translate(${$.x}, ${$.y})`,children:[M&&H.jsx("rect",{x:-h,y:-h,width:$.item.width+2*h,height:$.item.height+2*h,stroke:"none",fill:M,clipPath:"inset(0% round 5px)"}),H.jsx("image",{"data-testid":"cloud-image",x:0,y:0,width:$.item.width,height:$.item.height,href:$.item.id,preserveAspectRatio:"none",clipPath:"inset(0% round 5px)"})]},g))})});export{Et as C,Wt as I,Lt as a,Nt as c,Dt as t};
